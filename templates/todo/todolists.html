{% extends "base.html" %}

{% block title %}All Projects{% endblock %}
{% block content %}
<div class="body">

    <main class="table">
        <section class="table__header">
            <h1>All Projects</h1>
            <button class="btn btn--add" onclick="toggleVisibilityForm()">+ New Project</button>
        </section>
        <section class="table__body">
            <table>
                <thead>
                    <tr>
                        <th>Project</th>
                        <th>Number of Tasks</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for t in todolists %}
                    <tr>
                        <td>{{ t.name }}</td>
                        <td>{{ t.tasks.count }}</td>
                        <td class="action-cell">
                            <form action="{% url 'delete-project' pk=t.pk %}" method="post">
                                {% csrf_token %}
                                <button class="btn btn-success" type="submit"><svg fill="#8b001a" height="800px"
                                        width="800px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                                        xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 612 612"
                                        xml:space="preserve">
                                        <g>
                                            <g>
                                                <g>
                                                    <path d="M510.812,85.933c-29.254-14.929-58.367-16.325-59.592-16.375c-0.246-0.012-0.492-0.017-0.737-0.017H404.18
                                           c0.003-0.139,0.022-0.273,0.022-0.415c0-26.812-12.761-48.09-35.931-59.913c-16.138-8.234-31.876-9.122-33.618-9.194
                                           C334.409,0.006,334.163,0,333.917,0h-55.832c-0.246,0-0.492,0.006-0.737,0.017c-1.741,0.074-17.48,0.96-33.616,9.194
                                           C220.56,21.035,207.8,42.313,207.8,69.124c0,0.142,0.017,0.276,0.022,0.415h-46.303c-0.246,0-0.492,0.006-0.737,0.017
                                           c-1.226,0.051-30.337,1.446-59.593,16.375c-28.241,14.41-61.905,44.075-61.905,103.548c0,9.581,7.767,17.35,17.35,17.35h15.245
                                           l67.087,390.755c1.43,8.328,8.65,14.416,17.099,14.416h299.873c8.449,0,15.67-6.088,17.099-14.416l67.087-390.755h15.245
                                           c9.581,0,17.35-7.768,17.35-17.35C572.718,130.006,539.053,100.341,510.812,85.933z M75.398,172.13
                                           c4.22-24.493,17.846-42.891,40.665-54.828c21.272-11.123,43.329-12.888,45.936-13.063h288.005
                                           c2.585,0.172,24.08,1.906,45.034,12.6c23.361,11.922,37.29,30.475,41.562,55.29L75.398,172.13L75.398,172.13z M242.5,69.125
                                           c0-13.566,5.156-22.656,16.226-28.599c8.889-4.773,18.372-5.701,19.886-5.825h54.742c1.736,0.142,11.12,1.102,19.92,5.825
                                           c11.07,5.944,16.228,15.033,16.228,28.599c0,0.142,0.017,0.276,0.022,0.415H242.48C242.482,69.401,242.5,69.265,242.5,69.125z
                                            M441.312,577.301H170.688l-63.605-370.472h397.834L441.312,577.301z" />
                                                    <path d="M306,519.57c9.581,0,17.35-7.768,17.35-17.35V257.909c0-9.581-7.768-17.35-17.35-17.35c-9.583,0-17.35,7.768-17.35,17.35
                                           V502.22C288.65,511.802,296.419,519.57,306,519.57z" />
                                                    <path d="M203.782,503.754c0.801,9.022,8.373,15.816,17.261,15.816c0.513,0,1.032-0.023,1.553-0.068
                                           c9.545-0.847,16.596-9.273,15.749-18.816l-21.687-244.311c-0.847-9.545-9.265-16.609-18.817-15.749
                                           c-9.545,0.847-16.595,9.27-15.748,18.816L203.782,503.754z" />
                                                    <path d="M389.404,519.502c0.52,0.045,1.04,0.068,1.553,0.068c8.889,0,16.462-6.794,17.263-15.816l21.687-244.313
                                           c0.847-9.545-6.202-17.968-15.748-18.816c-9.544-0.856-17.968,6.204-18.817,15.749l-21.687,244.311
                                           C372.808,510.229,379.859,518.655,389.404,519.502z" />
                                                </g>
                                            </g>
                                        </g>
                                    </svg>
                                </button>
                            </form>
                            <a href="{% url 'project' pk=t.pk %}" class="btn btn-primary"><svg width="800px"
                                    height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <g clip-path="url(#clip0_105_1855)">
                                        <path d="M9 4.00024H19V18.0002C19 19.1048 18.1046 20.0002 17 20.0002H9"
                                            stroke="#00250c" stroke-linecap="round" stroke-linejoin="round"
                                            stroke-width="2" />
                                        <path d="M12 15.0002L15 12.0002M15 12.0002L12 9.00024M15 12.0002H5"
                                            stroke="#00250c" stroke-linecap="round" stroke-linejoin="round"
                                            stroke-width="2" / </g>
                                            <defs>
                                                <clipPath id="clip0_105_1855">
                                                    <rect fill="white" height="24" transform="translate(0 0.000244141)"
                                                        width="24" />
                                                </clipPath>
                                            </defs>
                                </svg></a>
                        </td>
                        {% endfor %}
                    </tr>
                </tbody>
            </table>
        </section>
    </main>
</div>
<div class="form" id="addform">
    <form class="add-form" action="" method="post">
        <button class="btn btn--close">+</button>
        {% csrf_token %}
        {{ form.name }}
        <button class="btn btn--add" type="submit">Add</button>
    </form>
</div>
{% endblock content %}